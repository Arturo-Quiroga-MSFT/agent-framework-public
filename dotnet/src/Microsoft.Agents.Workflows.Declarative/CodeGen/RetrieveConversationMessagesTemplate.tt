<#@ template language="C#" inherits="CodeTemplate" visibility="internal" #>
<#@ output extension=".cs" #>
<#@ assembly name="System.Core" #>
<#@ include file="Snippets/Index.tt" once="true" #>
/// <summary>
/// %%% COMMENT
/// </summary>
internal sealed class <#= this.Name #>Executor(FormulaSession session, WorkflowAgentProvider agentProvider) : ActionExecutor(id: "<#= this.Id #>", session)
{
    // <inheritdoc />
    protected override async ValueTask ExecuteAsync(IWorkflowContext context, CancellationToken cancellationToken)
    {
        ChatMessage messages = 
            await agentProvider.GetMessageAsync(
                converationId, 
                limit: null, 
                after: null,
                before: null,
                newestFirst: null,
                cancellationToken).ConfigureAwait(false);<#
        AssignVariable(this.Model.Messages, "messages");
        #>
    }
}